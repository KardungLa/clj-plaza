<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en-US" xml:lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <title>triple spaces</title>
    <meta content="Antonio Garrrote Hern&aacute;ndez" name="author" />
   <link href="/clj-plaza/css/screen.css" rel="stylesheet" type="text/css" />
   <link href="/clj-plaza/css/syntax.css" rel="stylesheet" type="text/css" />
 </head>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-15922180-1");
pageTracker._trackPageview();
} catch(err) {}</script>
  <body>
    <div id="site">
      <div id="sidebar">
        <div id="title">
          <p><a href="/clj-plaza/"><img src="/clj-plaza/images/logo.png" alt="" /></a></p>
          <p><a href="/clj-plaza/">clj-plaza</a></p>
        </div>
        <p>

          A Clojure library to work with semantic meta-data.

        <div id="github">
          Fork me at <br/>
          <a href="http://github.com/antoniogarrote/clj-plaza">
          <img src="http://github.com/images/modules/header/logov3.png"></img>
          </a>
        </div>
     </div>

        <div id="post"
  <h1> triple spaces </h1>
  <p class="subtitle">
 </p>
<div id="content">
  <p>
<ul>
        <li><a href="#definition_ts">Definition of triple spaces</a></li>
        <li><a href="#creating_ts">Creation of triple spaces</a></li>
        <li><a href="#out_ts">The out operation</a></li>
        <li><a href="#rd_ts">The out operation</a></li>
        <li><a href="#in_ts">The out operation</a></li>
        <li><a href="#blocking_ts">Blocking operations: rdb, inb</a></li>
        <li><a href="#notify_ts">The notify operation</a></li>
        <li><a href="#notify_ts">Using filters</a></li>
</ul>
</p>
<h2 id="definition_ts">Definition of triple spaces</h2>
<p>A triple space is a <span class="caps">RDF</span> graph stored in a shared memory location that can be<br />
accessed concurrently by any number of agents manipulating the triples in graph.</p>
<p>Besides being a mean to store and manipulate semantic meta data, triple spaces<br />
also offer a coordination mechanism between agents thanks to a small set of<br />
operations on the triple space with well defined semantics.</p>
<p>The origins of this formalism can be traced to the original <a href="http://en.wikipedia.org/wiki/Tuple_space">Linda</a> system created<br />
by <a href="http://en.wikipedia.org/wiki/David_Gelernter">David Gelernter</a> and the blackboard AI systems.</p>
<p>Some of the benefits of the coordination mechanism offered by this kind of<br />
systems can be summarized as follows:</p>

	<ul>
		<li>generality, different kind of distributed model can be implemented on top of it</li>
		<li>orthogonality, provided by a small set of triple space operations</li>
		<li>greater decoupling among agents</li>
	</ul><p><strong>clj-plaza</strong> tries to offer an implementation of this computational model<br />
 accessible from Clojure code.</p>
<h2 id="creating_ts">Creation of triple spaces</h2>
<p>The triple space model can be implemented in different ways and support<br />
different kinds of distribution, for example, in a single <span class="caps">JVM</span> or across different <span class="caps">JVM</span> nodes.<br />
Applications built using <strong>clj-plaza</strong> can be ported to these different<br />
distribution architectures just choosing a different kind of triple space used without<br />
changing the implementation.</p>
<p>Currently, two implementations of triple spaces are supported: a<br />
<code>BasicTripleSpace</code> that can be used by agents inside a single <span class="caps">JVM</span> or<br />
a <code>RemoteTripleSpace</code> that can be used by agents in different JVMs.</p>
<p>The definition of <code>BasicTripleSapce</code> can be achieved using the<br />
following Clojure code:</p>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">use</span> <span class="ss">&#39;plaza</span><span class="o">.</span><span class="nv">triple-spaces</span><span class="o">.</span><span class="nv">core</span><span class="p">)</span>
<span class="p">(</span><span class="nf">def-ts</span> <span class="nv">:test</span> <span class="p">(</span><span class="nf">make-basic-triple-space</span><span class="p">))</span>
</code></pre>
</div><p>We have declared a new triple space and we have assigned it the name<br />
<code>:test</code>.<br />
If we would like to access the triple space we can use the function<br />
<code>ts</code> passing the name of the triple space as an argument:</p>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span>
<span class="c1">; output -&gt; #&lt;BasicTripleSpace plaza.triple-spaces.core.BasicTripleSpace@72433b8a&gt;</span>
</code></pre>
</div><p>Once the triple space is created, it can be shared among the different agents<br />
performing the computation. These agents, can issue a set of operations that<br />
modify the <span class="caps">RDF</span> graph stored in the triple space:</p>

	<ul>
		<li><strong>out</strong>: store triples in the triple store</li>
		<li><strong>rd</strong>: copy and returns triples stored in the triple store matching a pattern</li>
		<li><strong>in</strong>: removes and returns triples stored in the triple store matching a pattern</li>
		<li><strong>swap</strong>: substitutes some triples matching a pattern by a new set of triples in a single atomic operation</li>
		<li><strong>rdb</strong>: blocking version of the <strong>rd</strong> operation</li>
		<li><strong>inb</strong>: blocking version of the <strong>in</strong> operation</li>
		<li><strong>notify</strong>: the agent receives a notification each time another agent tries to insert or remove triples from the triple space matching a pattern</li>
	</ul><h2 id="out_ts">The out operation</h2>
<p>The <strong>out</strong> operation allows an agent to add new triples to a triple space. This<br />
operation can be described in Clojure code using the funcion <code>out</code><br />
and a <strong>clj-plaza</strong> <span class="caps">RDF</span> triple set:</p>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">out</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">:b</span> <span class="nv">:c</span><span class="p">][</span><span class="nv">:a</span> <span class="nv">:size</span> <span class="p">(</span><span class="nf">d</span> <span class="mi">520</span><span class="p">)]])</span>
</code></pre>
</div><p>The operation returns the triples just inserted in the triple space.<br />
If an agent tries to insert the same triples in the triple space, no new triples<br />
will be inserted. Triples cannot be duplicated in the triple space.</p>
<h2 id="rd_ts">The rd operation</h2>
<p>The <strong>rd</strong> operation returns a list of triple sets built with the triples stored<br />
in the triple space that match a particular pattern, described using <strong>clj-plaza</strong><br />
<span class="caps">SPARQL</span> patterns:</p>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">out</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">:b</span> <span class="nv">:c</span><span class="p">][</span><span class="nv">:a</span> <span class="nv">:size</span> <span class="p">(</span><span class="nf">d</span> <span class="mi">520</span><span class="p">)]])</span>
<span class="p">(</span><span class="nf">rd</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">:b</span> <span class="nv">?o</span><span class="p">][</span><span class="nv">:a</span> <span class="nv">:size</span> <span class="nv">?n</span><span class="p">]])</span>
<span class="c1">;([[#&lt;PlazaResource http://plaza.org/ontologies/a&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/size&gt;</span>
<span class="c1">;   #&lt;PlazaTypedLiteral &quot;520&quot;^^&lt;http://www.w3.org/2001/XMLSchema#int&gt;&gt;]</span>
<span class="c1">;  [#&lt;PlazaResource http://plaza.org/ontologies/a&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/b&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/c&gt;]])</span>
</code></pre>
</div><p>In this example only one triple set matches the pattern, so a list with just one<br />
element is returned, if more than one triple set matches the pattern they will<br />
be returned as different elements in the list:</p>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">rd</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">?s</span> <span class="nv">?p</span> <span class="nv">?o</span><span class="p">]])</span>
<span class="c1">;([[#&lt;PlazaResource http://plaza.org/ontologies/a&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/size&gt;</span>
<span class="c1">;   #&lt;PlazaTypedLiteral &quot;520&quot;^^&lt;http://www.w3.org/2001/XMLSchema#int&gt;&gt;]]</span>
<span class="c1">; [[#&lt;PlazaResource http://plaza.org/ontologies/a&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/b&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/c&gt;]])</span>
<span class="p">(</span><span class="nb">count </span><span class="p">(</span><span class="nf">rd</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">?s</span> <span class="nv">?p</span> <span class="nv">?o</span><span class="p">]]))</span>
<span class="c1">;; 2</span>
</code></pre>
</div><h2 id="in_ts">The in operation</h2>
<p>The <strong>in</strong> operation accepts a pattern as the argument and returns the matching<br />
triple sets from the triple space removing these triples from the space:</p>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">out</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">:b</span> <span class="nv">:c</span><span class="p">][</span><span class="nv">:a</span> <span class="nv">:size</span> <span class="p">(</span><span class="nf">d</span> <span class="mi">520</span><span class="p">)]])</span>
<span class="p">(</span><span class="nf">in</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">?s</span> <span class="nv">?p</span> <span class="nv">?o</span><span class="p">]])</span>
<span class="c1">;([[#&lt;PlazaResource http://plaza.org/ontologies/a&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/size&gt;</span>
<span class="c1">;   #&lt;PlazaTypedLiteral &quot;520&quot;^^&lt;http://www.w3.org/2001/XMLSchema#int&gt;&gt;]]</span>
<span class="c1">; [[#&lt;PlazaResource http://plaza.org/ontologies/a&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/b&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/c&gt;]])</span>
<span class="p">(</span><span class="nf">in</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">?s</span> <span class="nv">?p</span> <span class="nv">?o</span><span class="p">]])</span>
<span class="c1">;; ()</span>
</code></pre>
</div><p>If no triple matches the provided pattern, the in operation returns the empty<br />
list.</p>
<h2 id="swap_ts">The swap operation</h2>
<p>The <strong>swap</strong> operation is combination of a <strong>in</strong> and conditional <strong>out</strong> operation<br />
in a single atomic operation.<br />
It accepts a pattern and a triple set, and tries to match the pattern in the<br />
triple space and, in the case of any matches, remove the triple from the triple<br />
space and inserts the provided triple set.</p>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">out</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">:b</span> <span class="nv">:c</span><span class="p">][</span><span class="nv">:a</span> <span class="nv">:size</span> <span class="p">(</span><span class="nf">d</span> <span class="mi">520</span><span class="p">)]])</span>
<span class="p">(</span><span class="nf">swap</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">?s</span> <span class="nv">?p</span> <span class="nv">?o</span><span class="p">]]</span> <span class="p">[[</span><span class="nv">:e</span> <span class="nv">:f</span> <span class="nv">:g</span><span class="p">]])</span>
<span class="c1">;([[#&lt;PlazaResource http://plaza.org/ontologies/a&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/size&gt;</span>
<span class="c1">;   #&lt;PlazaTypedLiteral &quot;520&quot;^^&lt;http://www.w3.org/2001/XMLSchema#int&gt;&gt;]</span>
<span class="c1">;  [#&lt;PlazaResource http://plaza.org/ontologies/a&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/b&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/c&gt;]])</span>
<span class="p">(</span><span class="nf">rd</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">?s</span> <span class="nv">?p</span> <span class="nv">?o</span><span class="p">]])</span>
<span class="c1">;([[#&lt;PlazaResource http://plaza.org/ontologies/e&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/f&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/g&gt;]])</span>
</code></pre>
</div><p>If no triple matches the pattern passed as an argument, no substitution is done:</p>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">swap</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">?p</span> <span class="nv">?o</span><span class="p">]]</span> <span class="p">[[</span><span class="nv">:l</span> <span class="nv">:m</span> <span class="nv">:n</span><span class="p">]])</span>
<span class="c1">; []</span>

<span class="p">(</span><span class="nf">rd</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">?s</span> <span class="nv">?p</span> <span class="nv">?o</span><span class="p">]])</span>
<span class="c1">;([[#&lt;PlazaResource http://plaza.org/ontologies/e&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/f&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/g&gt;]])</span>
</code></pre>
</div><h2 id="blocking_ts">Blocking operations: rdb, inb</h2>
<p>The <span class="caps">RDF</span> graph stored in triple space can be used by the agents as a coordination mechanism without<br />
requiring explicit knowledge of the other agents taking part in the<br />
computation.</p>
<p>The blocking versions of the <strong>rd</strong> and <strong>in</strong> operations are the basis of this<br />
coordination mechanism. If a process issues a <strong>rdb</strong> or <strong>inb</strong> operation to a<br />
triple space, and no triple matches the provided pattern, the agent will block,<br />
suspending its execution until other agent writes triple matching that pattern:</p>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">spawn!</span> <span class="p">(</span><span class="nf">rdb</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">?p</span> <span class="nv">?o</span><span class="p">]])</span> <span class="p">(</span><span class="nb">println </span><span class="s">&quot;got some triples (a)&quot;</span><span class="p">))</span>
<span class="p">(</span><span class="nf">spawn!</span> <span class="p">(</span><span class="nf">rdb</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">?p</span> <span class="nv">?o</span><span class="p">]])</span> <span class="p">(</span><span class="nb">println </span><span class="s">&quot;got some triples (b)&quot;</span><span class="p">))</span>
<span class="c1">;; both threads block</span>

<span class="p">(</span><span class="nf">out</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">:b</span> <span class="nv">:c</span><span class="p">]])</span>
<span class="c1">;; both threads unblock</span>
<span class="c1">;; got some triples (a)</span>
<span class="c1">;; got some triples (b)</span>
</code></pre>
</div><p>The <code>spawn!</code> function can be used to start a new agent whose<br />
execution will start concurrently.</p>
<p>The following diagram shows the  three stages happening atomically in the triple<br />
space:</p>
<div id="img_wrapper">
<p><img src="/clj-plaza/images/rdb1.png"></img></p>
</div>
<p>If some agents block with a <strong>inb</strong> operation, all of them will receive a copy of<br />
the read triples, and all of them  will be removed from the triple space:</p>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">spawn!</span> <span class="p">(</span><span class="nf">rdb</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">:b</span> <span class="nv">?o</span><span class="p">]])</span> <span class="p">(</span><span class="nb">println </span><span class="s">&quot;got some triples (a)&quot;</span><span class="p">))</span>
<span class="p">(</span><span class="nf">spawn!</span> <span class="p">(</span><span class="nf">inb</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">:c</span> <span class="nv">?o</span><span class="p">]])</span> <span class="p">(</span><span class="nb">println </span><span class="s">&quot;got some triples (b)&quot;</span><span class="p">))</span>
<span class="p">(</span><span class="nf">spawn!</span> <span class="p">(</span><span class="nf">inb</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">:d</span> <span class="nv">?o</span><span class="p">]])</span> <span class="p">(</span><span class="nb">println </span><span class="s">&quot;got some triples (c)&quot;</span><span class="p">))</span>
<span class="c1">;; all threads block</span>

<span class="p">(</span><span class="nf">out</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">:b</span> <span class="nv">:c</span><span class="p">][</span><span class="nv">:a</span> <span class="nv">:c</span> <span class="nv">:d</span><span class="p">][</span><span class="nv">:a</span> <span class="nv">:d</span> <span class="nv">:d</span><span class="p">]])</span>
<span class="c1">;; both threads unblock</span>
<span class="c1">;; got some triples (a)</span>
<span class="c1">;; got some triples (b)</span>
<span class="c1">;; got some triples (c)</span>
<span class="p">(</span><span class="nf">rd</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">?s</span> <span class="nv">?p</span> <span class="nv">?o</span><span class="p">]])</span>
<span class="c1">;([[#&lt;PlazaResource http://plaza.org/ontologies/a&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/b&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/c&gt;]])</span>
</code></pre>
</div><div id="img_wrapper">
<p><img src="/clj-plaza/images/inb1.png"></img></p>
</div>
<h2 id="notify_ts">The notify operation</h2>
<p>The last operation supported over a triple space is the <strong>notify</strong> operation. The<br />
<code>notify</code> function implements this operation and receives three<br />
arguments:</p>

	<ul>
		<li>a kind of notifications</li>
		<li>a <span class="caps">SPARQL</span> pattern</li>
		<li>an anonymous function</li>
	</ul><p>The kind parameter signals which kind of operations will generate notifications,<br />
it can have two values: <code>:in</code> and <code>:out</code> for operations<br />
extracting triples from the triple space (<strong>in</strong> and successful <strong>swap</strong> operations) and<br />
operations inserting triples in the triple space (<strong>out</strong> and successful <strong>swap</strong><br />
operations).</p>
<p>The pattern passed as an argument will be applied to the triples read or written<br />
in the triple space and a notification will be generated only if the triples<br />
match the pattern.</p>
<p>Finally, the anonymous function will be invoked with the triples read or written<br />
each time a notification is generated:</p>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">spawn!</span> <span class="p">(</span><span class="nf">notify</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="nv">:out</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">?p</span> <span class="nv">?o</span><span class="p">]]</span> <span class="o">#</span><span class="p">(</span><span class="nv">println</span> <span class="s">&quot;got a notification...&quot;</span><span class="p">)))</span>
<span class="c1">;; blocked waiting for notifications</span>

<span class="p">(</span><span class="nf">out</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">:b</span> <span class="nv">:c</span><span class="p">]])</span>
<span class="c1">;; got a notification...</span>
<span class="p">(</span><span class="nf">out</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">:b</span> <span class="nv">:d</span><span class="p">]])</span>
<span class="c1">;; got a notification...</span>
</code></pre>
</div><div id="img_wrapper">
<p><img src="/clj-plaza/images/notify.png"></img></p>
</div>
<h2 id="notify_ts">Using filters</h2>
<p>Since the patterns passed as argument to the <strong>rd</strong>, <strong>in</strong>, <strong>rdb</strong>, <strong>inb</strong>, <strong>swap</strong><br />
and <strong>notify</strong> operations are <span class="caps">SPARQL</span> patterns, any plaza <span class="caps">SPARQL</span> filter can be<br />
applied to the pattern.</p>
<p>All the functions receiving a pattern have a version receiving an additional<br />
list of <span class="caps">SPARQL</span> filters that will be applied to the pattern:</p>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">out</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">:b</span> <span class="p">(</span><span class="nf">d</span> <span class="mi">5</span><span class="p">)]])</span>
<span class="p">(</span><span class="nf">out</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">:a</span> <span class="nv">:b</span> <span class="p">(</span><span class="nf">d</span> <span class="mi">10</span><span class="p">)]])</span>

<span class="p">(</span><span class="nf">rd</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">?s</span> <span class="nv">?p</span> <span class="nv">?o</span><span class="p">]]</span> <span class="p">[(</span><span class="nf">f</span> <span class="nv">:&gt;</span> <span class="nv">?o</span> <span class="p">(</span><span class="nf">d</span> <span class="mi">1</span><span class="p">))])</span>
<span class="c1">;([[#&lt;PlazaResource http://plaza.org/ontologies/a&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/b&gt;</span>
<span class="c1">;   #&lt;PlazaTypedLiteral &quot;10&quot;^^&lt;http://www.w3.org/2001/XMLSchema#int&gt;&gt;]]</span>
<span class="c1">; [[#&lt;PlazaResource http://plaza.org/ontologies/a&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/b&gt;</span>
<span class="c1">;   #&lt;PlazaTypedLiteral &quot;5&quot;^^&lt;http://www.w3.org/2001/XMLSchema#int&gt;&gt;]])</span>

<span class="p">(</span><span class="nf">rd</span> <span class="p">(</span><span class="nf">ts</span> <span class="nv">:test</span><span class="p">)</span> <span class="p">[[</span><span class="nv">?s</span> <span class="nv">?p</span> <span class="nv">?o</span><span class="p">]]</span> <span class="p">[(</span><span class="nf">f</span> <span class="nv">:&gt;</span> <span class="nv">?o</span> <span class="p">(</span><span class="nf">d</span> <span class="mi">1</span><span class="p">))</span> <span class="p">(</span><span class="nf">f</span> <span class="nv">:&gt;</span> <span class="nv">?o</span> <span class="p">(</span><span class="nf">d</span> <span class="mi">7</span><span class="p">))])</span>
<span class="c1">;([[#&lt;PlazaResource http://plaza.org/ontologies/a&gt;</span>
<span class="c1">;   #&lt;PlazaResource http://plaza.org/ontologies/b&gt;</span>
<span class="c1">;   #&lt;PlazaTypedLiteral &quot;10&quot;^^&lt;http://www.w3.org/2001/XMLSchema#int&gt;&gt;]])</span>
</code></pre>
</div>
</div>


      <p id="footer">
      </p>

    </div>
  </body>
</html>
